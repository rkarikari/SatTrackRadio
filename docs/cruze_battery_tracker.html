<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruze Battery Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
		
		import React, { useState, useEffect } from 'react';
		import { Battery, Sun, Key, TrendingDown, Calendar, Settings, BarChart3, Info, Plus, Trash2, Download, Upload } from 'lucide-react';
		import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area, BarChart, Bar } from 'recharts';

		const BatteryTrackerApp = () => {
		  const [activeTab, setActiveTab] = useState('dashboard');
		  const [batteryLevel, setBatteryLevel] = useState(100);
		  const [lastCharge, setLastCharge] = useState(new Date().toISOString().split('T')[0]);
		  const [solarPanelActive, setSolarPanelActive] = useState(true);
		  const [sunHoursPerDay, setSunHoursPerDay] = useState(4);
		  const [remoteStarts, setRemoteStarts] = useState([]);
		  const [remoteStartCount, setRemoteStartCount] = useState(0);
		  const [fuelLevel, setFuelLevel] = useState(3.5);
		  const [logs, setLogs] = useState([]);
		  const [darkMode, setDarkMode] = useState(true);

		  // Technical constants based on research
		  const CONSTANTS = {
			parasiticDraw: 0.03, // Amps
			parasiticDrawDaily: 0.72, // Ah per day
			batteryCapacity: 48, // Ah total
			usableCapacity: 24, // Ah (50% DOD safe limit)
			remoteStartDuration: 10, // minutes
			remoteStartCharge: 3.0, // Ah per 10-min start
			remoteStartLimit: 2, // consecutive starts allowed
			crankingAh: 0.17, // Ah per start
			solarPanelWatts: 5,
			solarPeakCurrent: 0.30, // Amps
			solarUsablePerHour: 0.225, // Ah per sun hour (average)
			fuelBurnRate: 0.0167, // gallons per 10-min idle
		  };

		  // Calculate days until battery critical
		  const calculateDaysRemaining = () => {
			const currentAh = (batteryLevel / 100) * CONSTANTS.usableCapacity;
			const dailyDrain = CONSTANTS.parasiticDrawDaily;
			const solarGain = solarPanelActive ? sunHoursPerDay * CONSTANTS.solarUsablePerHour : 0;
			const netDaily = solarGain - dailyDrain;
			
			if (netDaily >= 0) return Infinity;
			return Math.floor(currentAh / Math.abs(netDaily));
		  };

		  // Calculate battery level over time
		  const generateProjection = (days = 365) => {
			const data = [];
			let currentLevel = batteryLevel;
			
			for (let day = 0; day <= days; day++) {
			  const dailyDrain = CONSTANTS.parasiticDrawDaily;
			  const solarGain = solarPanelActive ? sunHoursPerDay * CONSTANTS.solarUsablePerHour : 0;
			  const netDaily = solarGain - dailyDrain;
			  
			  currentLevel = Math.max(0, Math.min(100, currentLevel + (netDaily / CONSTANTS.usableCapacity) * 100));
			  
			  if (day % 7 === 0) {
				data.push({
				  day,
				  battery: parseFloat(currentLevel.toFixed(1)),
				  sustainable: solarGain >= dailyDrain ? 100 : null
				});
			  }
			  
			  if (currentLevel <= 0) break;
			}
			
			return data;
		  };

		  // Add remote start
		  const addRemoteStart = () => {
			if (remoteStartCount >= CONSTANTS.remoteStartLimit) {
			  alert('Maximum 2 remote starts reached! Physical start required to reset.');
			  return;
			}
			
			const newStart = {
			  id: Date.now(),
			  date: new Date().toISOString(),
			  ahGained: CONSTANTS.remoteStartCharge,
			  fuelUsed: CONSTANTS.fuelBurnRate
			};
			
			setRemoteStarts([newStart, ...remoteStarts]);
			setRemoteStartCount(prev => prev + 1);
			setBatteryLevel(prev => Math.min(100, prev + (CONSTANTS.remoteStartCharge / CONSTANTS.usableCapacity) * 100));
			setFuelLevel(prev => Math.max(0, prev - CONSTANTS.fuelBurnRate));
			
			addLog(`Remote start activated (+${CONSTANTS.remoteStartCharge} Ah, -${CONSTANTS.fuelBurnRate} gal)`);
		  };

		  // Physical start (resets remote start counter)
		  const physicalStart = () => {
			setRemoteStartCount(0);
			setBatteryLevel(prev => Math.min(100, prev + 5));
			addLog('Physical start - remote start counter reset');
		  };

		  // Add log entry
		  const addLog = (message) => {
			setLogs(prev => [{
			  id: Date.now(),
			  date: new Date().toISOString(),
			  message
			}, ...prev.slice(0, 49)]);
		  };

		  // Generate scenario comparison data
		  const generateScenarioData = () => {
			return [
			  { scenario: 'No Solar/No RS', days: 33, color: '#ef4444' },
			  { scenario: '1 RS/month', days: 38, color: '#f59e0b' },
			  { scenario: '2 RS/month', days: 46, color: '#eab308' },
			  { scenario: 'Solar (2h) + 2 RS', days: 1200, color: '#22c55e' },
			  { scenario: 'Solar (5h)', days: Infinity, color: '#10b981' }
			].map(item => ({
			  ...item,
			  daysDisplay: item.days === Infinity ? 365 : item.days
			}));
		  };

		  // Solar vs parasitic comparison
		  const generateSolarComparison = () => {
			return [0, 1, 2, 3, 4, 5, 6].map(hours => ({
			  hours,
			  solarGain: hours * CONSTANTS.solarUsablePerHour,
			  parasiticLoss: CONSTANTS.parasiticDrawDaily,
			  netDaily: (hours * CONSTANTS.solarUsablePerHour) - CONSTANTS.parasiticDrawDaily
			}));
		  };

		  const daysRemaining = calculateDaysRemaining();
		  const projectionData = generateProjection(Math.min(daysRemaining === Infinity ? 365 : daysRemaining * 2, 365));
		  const scenarioData = generateScenarioData();
		  const solarComparisonData = generateSolarComparison();

		  // Dashboard Tab
		  const DashboardTab = () => (
			<div className="space-y-6">
			  {/* Status Cards */}
			  <div className="grid grid-cols-2 gap-4">
				<div className="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-lg shadow-lg">
				  <div className="flex items-center justify-between mb-2">
					<Battery className="w-6 h-6" />
					<span className="text-2xl font-bold">{batteryLevel.toFixed(1)}%</span>
				  </div>
				  <div className="text-sm opacity-90">Battery Level</div>
				  <div className="text-xs mt-1 opacity-75">{(batteryLevel * CONSTANTS.usableCapacity / 100).toFixed(1)} Ah available</div>
				</div>

				<div className={`${daysRemaining === Infinity ? 'bg-gradient-to-br from-green-500 to-green-600' : daysRemaining > 30 ? 'bg-gradient-to-br from-yellow-500 to-yellow-600' : 'bg-gradient-to-br from-red-500 to-red-600'} text-white p-4 rounded-lg shadow-lg`}>
				  <div className="flex items-center justify-between mb-2">
					<Calendar className="w-6 h-6" />
					<span className="text-2xl font-bold">{daysRemaining === Infinity ? '∞' : daysRemaining}</span>
				  </div>
				  <div className="text-sm opacity-90">Days Remaining</div>
				  <div className="text-xs mt-1 opacity-75">{daysRemaining === Infinity ? 'Self-sustaining' : 'Until charge needed'}</div>
				</div>

				<div className="bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-4 rounded-lg shadow-lg">
				  <div className="flex items-center justify-between mb-2">
					<Sun className="w-6 h-6" />
					<span className="text-2xl font-bold">{sunHoursPerDay}h</span>
				  </div>
				  <div className="text-sm opacity-90">Sun Hours/Day</div>
				  <div className="text-xs mt-1 opacity-75">+{(sunHoursPerDay * CONSTANTS.solarUsablePerHour).toFixed(2)} Ah/day</div>
				</div>

				<div className="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-lg shadow-lg">
				  <div className="flex items-center justify-between mb-2">
					<Key className="w-6 h-6" />
					<span className="text-2xl font-bold">{remoteStartCount}/2</span>
				  </div>
				  <div className="text-sm opacity-90">Remote Starts</div>
				  <div className="text-xs mt-1 opacity-75">Fuel: {fuelLevel.toFixed(2)} gal</div>
				</div>
			  </div>

			  {/* Quick Actions */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 flex items-center ${darkMode ? 'text-white' : 'text-gray-900'}`}>
				  <Key className="w-5 h-5 mr-2" />
				  Quick Actions
				</h3>
				<div className="grid grid-cols-2 gap-3">
				  <button 
					onClick={addRemoteStart}
					disabled={remoteStartCount >= CONSTANTS.remoteStartLimit}
					className={`${remoteStartCount >= CONSTANTS.remoteStartLimit ? 'bg-gray-300 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600'} text-white py-3 px-4 rounded-lg font-medium transition`}
				  >
					Remote Start
				  </button>
				  <button 
					onClick={physicalStart}
					className="bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-medium transition"
				  >
					Physical Start
				  </button>
				</div>
				{remoteStartCount >= CONSTANTS.remoteStartLimit && (
				  <div className={`mt-3 text-sm p-2 rounded ${darkMode ? 'text-red-400 bg-red-900/30' : 'text-red-600 bg-red-50'}`}>
					⚠️ Remote start limit reached. Physical start required to reset counter.
				  </div>
				)}
			  </div>

			  {/* Battery Projection Chart */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Battery Level Projection</h3>
				<ResponsiveContainer width="100%" height={250}>
				  <AreaChart data={projectionData}>
					<CartesianGrid strokeDasharray="3 3" stroke={darkMode ? '#374151' : '#e5e7eb'} />
					<XAxis 
					  dataKey="day" 
					  label={{ value: 'Days', position: 'insideBottom', offset: -5, fill: darkMode ? '#9ca3af' : '#6b7280' }} 
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<YAxis 
					  label={{ value: 'Battery %', angle: -90, position: 'insideLeft', fill: darkMode ? '#9ca3af' : '#6b7280' }} 
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<Tooltip 
					  contentStyle={{
						backgroundColor: darkMode ? '#1f2937' : '#ffffff',
						border: `1px solid ${darkMode ? '#374151' : '#e5e7eb'}`,
						color: darkMode ? '#f3f4f6' : '#111827'
					  }}
					/>
					<Area type="monotone" dataKey="battery" stroke="#3b82f6" fill="#93c5fd" name="Battery Level %" />
					{projectionData[0]?.sustainable && (
					  <Line type="monotone" dataKey="sustainable" stroke="#22c55e" strokeDasharray="5 5" name="Sustainable" />
					)}
				  </AreaChart>
				</ResponsiveContainer>
			  </div>

			  {/* Net Energy Balance */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Daily Energy Balance</h3>
				<div className="space-y-2">
				  <div className="flex justify-between items-center">
					<span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Parasitic Drain:</span>
					<span className="font-semibold text-red-600">-{CONSTANTS.parasiticDrawDaily} Ah/day</span>
				  </div>
				  <div className="flex justify-between items-center">
					<span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Solar Gain:</span>
					<span className="font-semibold text-green-600">+{(sunHoursPerDay * CONSTANTS.solarUsablePerHour).toFixed(2)} Ah/day</span>
				  </div>
				  <div className={`border-t pt-2 flex justify-between items-center ${darkMode ? 'border-gray-700' : 'border-gray-200'}`}>
					<span className={`text-sm font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-900'}`}>Net Daily:</span>
					<span className={`font-bold ${(sunHoursPerDay * CONSTANTS.solarUsablePerHour - CONSTANTS.parasiticDrawDaily) >= 0 ? 'text-green-600' : 'text-red-600'}`}>
					  {((sunHoursPerDay * CONSTANTS.solarUsablePerHour - CONSTANTS.parasiticDrawDaily) >= 0 ? '+' : '')}
					  {(sunHoursPerDay * CONSTANTS.solarUsablePerHour - CONSTANTS.parasiticDrawDaily).toFixed(2)} Ah/day
					</span>
				  </div>
				</div>
			  </div>
			</div>
		  );

		  // Analytics Tab
		  const AnalyticsTab = () => (
			<div className="space-y-6">
			  {/* Scenario Comparison */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Maintenance Scenario Comparison</h3>
				<ResponsiveContainer width="100%" height={300}>
				  <BarChart data={scenarioData} layout="vertical">
					<CartesianGrid strokeDasharray="3 3" stroke={darkMode ? '#374151' : '#e5e7eb'} />
					<XAxis 
					  type="number" 
					  label={{ value: 'Days', position: 'insideBottom', offset: -5, fill: darkMode ? '#9ca3af' : '#6b7280' }}
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<YAxis 
					  type="category" 
					  dataKey="scenario" 
					  width={120} 
					  style={{ fontSize: '12px', fill: darkMode ? '#d1d5db' : '#374151' }}
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<Tooltip 
					  contentStyle={{
						backgroundColor: darkMode ? '#1f2937' : '#ffffff',
						border: `1px solid ${darkMode ? '#374151' : '#e5e7eb'}`,
						color: darkMode ? '#f3f4f6' : '#111827'
					  }}
					/>
					<Bar dataKey="daysDisplay" name="Days Until Charge Needed">
					  {scenarioData.map((entry, index) => (
						<rect key={`cell-${index}`} fill={entry.color} />
					  ))}
					</Bar>
				  </BarChart>
				</ResponsiveContainer>
				<div className={`mt-3 text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>
				  RS = Remote Start. Values capped at 365 days for display.
				</div>
			  </div>

			  {/* Solar Hours Impact */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Solar Hours Impact on Battery</h3>
				<ResponsiveContainer width="100%" height={250}>
				  <LineChart data={solarComparisonData}>
					<CartesianGrid strokeDasharray="3 3" stroke={darkMode ? '#374151' : '#e5e7eb'} />
					<XAxis 
					  dataKey="hours" 
					  label={{ value: 'Sun Hours/Day', position: 'insideBottom', offset: -5, fill: darkMode ? '#9ca3af' : '#6b7280' }}
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<YAxis 
					  label={{ value: 'Ah/Day', angle: -90, position: 'insideLeft', fill: darkMode ? '#9ca3af' : '#6b7280' }}
					  stroke={darkMode ? '#9ca3af' : '#6b7280'}
					/>
					<Tooltip 
					  contentStyle={{
						backgroundColor: darkMode ? '#1f2937' : '#ffffff',
						border: `1px solid ${darkMode ? '#374151' : '#e5e7eb'}`,
						color: darkMode ? '#f3f4f6' : '#111827'
					  }}
					/>
					<Legend wrapperStyle={{ color: darkMode ? '#d1d5db' : '#374151' }} />
					<Line type="monotone" dataKey="solarGain" stroke="#22c55e" strokeWidth={2} name="Solar Gain" />
					<Line type="monotone" dataKey="parasiticLoss" stroke="#ef4444" strokeWidth={2} name="Parasitic Loss" />
					<Line type="monotone" dataKey="netDaily" stroke="#3b82f6" strokeWidth={2} strokeDasharray="5 5" name="Net Daily" />
				  </LineChart>
				</ResponsiveContainer>
			  </div>

			  {/* Fuel Consumption Analysis */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Fuel Life Estimates</h3>
				<div className="grid grid-cols-2 gap-4">
				  {[
					{ rate: '1/month', months: 210, years: 17.5 },
					{ rate: '2/month', months: 105, years: 8.75 },
					{ rate: '3/month', months: 70, years: 5.8 },
					{ rate: '8/month', months: 26, years: 2.2 }
				  ].map((item, idx) => (
					<div key={idx} className={`${darkMode ? 'border-gray-700' : 'border-gray-200'} border rounded-lg p-3`}>
					  <div className="text-lg font-bold text-blue-600">{item.rate}</div>
					  <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Remote Starts</div>
					  <div className={`mt-2 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-900'}`}>
						<div><strong>{item.years}</strong> years</div>
						<div className={`text-xs ${darkMode ? 'text-gray-500' : 'text-gray-500'}`}>({item.months} months)</div>
					  </div>
					</div>
				  ))}
				</div>
				<div className={`mt-4 text-sm p-3 rounded ${darkMode ? 'text-gray-300 bg-blue-900/30' : 'text-gray-600 bg-blue-50'}`}>
				  <strong>Current fuel:</strong> {fuelLevel.toFixed(2)} gallons<br />
				  <strong>Starts remaining:</strong> {Math.floor(fuelLevel / CONSTANTS.fuelBurnRate)} starts
				</div>
			  </div>
			</div>
		  );

		  // Settings Tab
		  const SettingsTab = () => (
			<div className="space-y-6">
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Battery Configuration</h3>
				
				<div className="space-y-4">
				  <div>
					<label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Current Battery Level (%)</label>
					<input 
					  type="range" 
					  min="0" 
					  max="100" 
					  value={batteryLevel}
					  onChange={(e) => setBatteryLevel(parseFloat(e.target.value))}
					  className="w-full"
					/>
					<div className={`text-right text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{batteryLevel.toFixed(1)}%</div>
				  </div>

				  <div>
					<label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Average Sun Hours per Day</label>
					<input 
					  type="range" 
					  min="0" 
					  max="8" 
					  step="0.5"
					  value={sunHoursPerDay}
					  onChange={(e) => setSunHoursPerDay(parseFloat(e.target.value))}
					  className="w-full"
					/>
					<div className={`text-right text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{sunHoursPerDay} hours</div>
				  </div>

				  <div>
					<label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Fuel Level (gallons)</label>
					<input 
					  type="number" 
					  min="0" 
					  max="13" 
					  step="0.1"
					  value={fuelLevel}
					  onChange={(e) => setFuelLevel(parseFloat(e.target.value))}
					  className={`w-full border rounded px-3 py-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300 text-gray-900'}`}
					/>
				  </div>

				  <div className={`flex items-center justify-between p-3 rounded ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>5W Solar Panel Active</span>
					<button 
					  onClick={() => setSolarPanelActive(!solarPanelActive)}
					  className={`${solarPanelActive ? 'bg-green-500' : 'bg-gray-300'} relative inline-flex h-6 w-11 items-center rounded-full transition`}
					>
					  <span className={`${solarPanelActive ? 'translate-x-6' : 'translate-x-1'} inline-block h-4 w-4 transform rounded-full bg-white transition`} />
					</button>
				  </div>

				  <div className={`flex items-center justify-between p-3 rounded ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>Dark Mode</span>
					<button 
					  onClick={() => setDarkMode(!darkMode)}
					  className={`${darkMode ? 'bg-blue-500' : 'bg-gray-300'} relative inline-flex h-6 w-11 items-center rounded-full transition`}
					>
					  <span className={`${darkMode ? 'translate-x-6' : 'translate-x-1'} inline-block h-4 w-4 transform rounded-full bg-white transition`} />
					</button>
				  </div>
				</div>
			  </div>

			  {/* Technical Specifications */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Technical Specifications</h3>
				<div className="space-y-2 text-sm">
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Battery Capacity:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.batteryCapacity} Ah</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Usable Capacity (50% DOD):</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.usableCapacity} Ah</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Parasitic Draw:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.parasiticDraw} A ({CONSTANTS.parasiticDrawDaily} Ah/day)</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Remote Start Duration:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.remoteStartDuration} minutes</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Remote Start Charge:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.remoteStartCharge} Ah per start</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Remote Start Limit:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.remoteStartLimit} consecutive</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Solar Panel Output:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.solarPanelWatts}W ({CONSTANTS.solarUsablePerHour} Ah/sun-hour)</span>
				  </div>
				  <div className="flex justify-between">
					<span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Fuel Burn Rate:</span>
					<span className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{CONSTANTS.fuelBurnRate} gal/start</span>
				  </div>
				</div>
			  </div>
			</div>
		  );

		  // History Tab
		  const HistoryTab = () => (
			<div className="space-y-4">
			  {/* Recent Remote Starts */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Recent Remote Starts</h3>
				{remoteStarts.length === 0 ? (
				  <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>No remote starts recorded yet.</p>
				) : (
				  <div className="space-y-2">
					{remoteStarts.slice(0, 10).map(start => (
					  <div key={start.id} className={`flex justify-between items-center p-2 rounded ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
						<div>
						  <div className={`text-sm font-medium ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{new Date(start.date).toLocaleString()}</div>
						  <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>+{start.ahGained} Ah, -{start.fuelUsed.toFixed(3)} gal</div>
						</div>
						<button 
						  onClick={() => setRemoteStarts(remoteStarts.filter(s => s.id !== start.id))}
						  className="text-red-500 hover:text-red-700"
						>
						  <Trash2 className="w-4 h-4" />
						</button>
					  </div>
					))}
				  </div>
				)}
			  </div>

			  {/* Activity Log */}
			  <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg shadow`}>
				<h3 className={`font-semibold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Activity Log</h3>
				{logs.length === 0 ? (
				  <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>No activity logged yet.</p>
				) : (
				  <div className="space-y-2 max-h-96 overflow-y-auto">
					{logs.map(log => (
					  <div key={log.id} className={`p-2 rounded ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
						<div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{new Date(log.date).toLocaleString()}</div>
						<div className={`text-sm ${darkMode ? 'text-gray-200' : 'text-gray-900'}`}>{log.message}</div>
					  </div>
					))}
				  </div>
				)}
			  </div>
			</div>
		  );

		  return (
			<div className={`max-w-2xl mx-auto min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-100'}`}>
			  {/* Header */}
			  <div className="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 shadow-lg">
				<h1 className="text-xl font-bold flex items-center">
				  <Battery className="w-6 h-6 mr-2" />
				  Cruze Battery Tracker
				</h1>
				<p className="text-xs opacity-90 mt-1">Comprehensive Battery Maintenance System</p>
			  </div>

			  {/* Navigation */}
			  <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border-b flex overflow-x-auto`}>
				{[
				  { id: 'dashboard', label: 'Dashboard', icon: BarChart3 },
				  { id: 'analytics', label: 'Analytics', icon: TrendingDown },
				  { id: 'history', label: 'History', icon: Calendar },
				  { id: 'settings', label: 'Settings', icon: Settings }
				].map(tab => (
				  <button
					key={tab.id}
					onClick={() => setActiveTab(tab.id)}
					className={`flex-1 py-3 px-4 font-medium text-sm flex items-center justify-center ${
					  activeTab === tab.id 
						? 'border-b-2 border-blue-600 text-blue-600' 
						: darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'
					}`}
				  >
					<tab.icon className="w-4 h-4 mr-2" />
					{tab.label}
				  </button>
				))}
			  </div>

			  {/* Content */}
			  <div className="p-4">
				{activeTab === 'dashboard' && <DashboardTab />}
				{activeTab === 'analytics' && <AnalyticsTab />}
				{activeTab === 'history' && <HistoryTab />}
				{activeTab === 'settings' && <SettingsTab />}
			  </div>

			  {/* Footer Info */}
			  <div className={`${darkMode ? 'bg-gray-800 border-gray-700 text-gray-400' : 'bg-white border-gray-200 text-gray-600'} border-t p-4 text-center text-xs`}>
				<div className="flex items-center justify-center mb-2">
				  <Info className="w-4 h-4 mr-1" />
				  <span>All calculations based on validated Chevy Cruze specifications</span>
				</div>
				<div>Parasitic Draw: 0.03A | Solar: 5W Panel | Remote Start: 10min cycles</div>
			  </div>
			</div>
		  );
		};

		export default BatteryTrackerApp;
		
		        ReactDOM.createRoot(document.getElementById('root')).render(<BatteryTrackerApp />);
    </script>
</body>
</html>